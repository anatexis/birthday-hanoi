<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OSKARS GEBURTSTAGSRÃ„TSELEINLADUNG</title>
<link href="https://fonts.googleapis.com/css2?family=Pirata+One&display=swap" rel="stylesheet">
<style>
:root{
  --mast-width:14px;
  --mast-height:270px;
  --disk-height:38px;
  --wood:#5b3a18;
  --parchment:#f1e7d0;
  --sail:#fffbe6;
  --sail-border:#c9c2a6;
}
body{
  font-family:'Pirata One',cursive;
  background:var(--parchment) url('https://cdn.jsdelivr.net/gh/tylermguyen/stock@main/parchment.jpg') repeat;
  margin:0;padding:2rem;text-align:center;color:#321;
}
h1{margin:0 0 1rem;font-size:2.3rem;letter-spacing:1px;}

/* Schiff-Container */
#ship{position:relative;height:460px;max-width:1100px;margin:0 auto;pointer-events:none;}
/* Neues detailreicheres SVG â€“ bleibt klein (<6â€¯KB) */
.ship-svg{position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:100%;max-width:1000px;height:auto;fill:#000;pointer-events:none;}

#board{position:absolute;left:0;right:0;bottom:110px;display:flex;justify-content:center;column-gap:110px;pointer-events:auto;}
.peg{position:relative;width:var(--mast-width);height:var(--mast-height);background:var(--wood);border-radius:3px;display:flex;flex-direction:column-reverse;align-items:center;gap:4px;cursor:pointer;user-select:none;}
.peg::after{content:'ğŸ´\200Dâ˜ ï¸';position:absolute;top:-32px;left:50%;transform:translateX(-50%);font-size:1.6rem;pointer-events:none;}
.disk{height:var(--disk-height);background:var(--sail);border:3px solid var(--sail-border);border-radius:8px;display:flex;align-items:center;justify-content:center;color:#555;font-weight:bold;box-shadow:inset 0 0 4px #0003;width:62px;}
.disk[data-size="2"]{width:94px;}
.disk[data-size="3"]{width:126px;}
#message{margin-top:1.2rem;font-size:1.3rem;min-height:1.3em;}
.hidden{display:none !important;}
video#victoryVideo{margin:2rem auto 0;max-width:100%;border-radius:12px;box-shadow:0 4px 8px rgba(0,0,0,0.15);display:block;}
.invitation{margin-top:2rem;padding:1.2rem;border-radius:12px;background:#fff8e9;box-shadow:0 4px 8px rgba(0,0,0,0.1);}  
</style>
</head>
<body>
<h1>âš“ OSKARS PIRATENâ€‘RÃ„TSELâ€‘EINLADUNG ğŸ´â€â˜ ï¸</h1>
<p>Bringe die drei Segel von der linken auf die rechte MastspitzeÂ â€“ immer nur ein Segel und nie ein grÃ¶ÃŸeres Ã¼ber ein kleineres.</p>

<div id="ship">
  <!-- detaillierter Piratenschiffsâ€‘SVGâ€‘Rumpf  -->
  <svg class="ship-svg" viewBox="0 0 1200 300" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
    <!-- Hull -->
    <path d="M50 220 Q180 120 350 120 L850 120 Q1020 120 1150 220 L1150 260 L50 260 Z"/>
    <!-- Cutâ€‘water (Bow) -->
    <path d="M50 220 Q20 210 20 245 T50 260 Z"/>
    <!-- Sterncastle -->
    <path d="M950 120 L1000 70 L1070 70 L1100 120 Z"/>
    <!-- Gunports -->
    <g>
      <rect x="420" y="155" width="32" height="24"/>
      <rect x="470" y="155" width="32" height="24"/>
      <rect x="520" y="155" width="32" height="24"/>
      <rect x="570" y="155" width="32" height="24"/>
      <rect x="620" y="155" width="32" height="24"/>
    </g>
    <!-- Figurehead flag at stern -->
    <g transform="translate(1030 30)">
      <rect x="0" y="0" width="12" height="80"/>
      <path d="M12 5 L90 5 L60 30 L90 55 L12 55 Z"/>
    </g>
  </svg>

  <div id="board">
    <div class="peg" id="peg0"></div>
    <div class="peg" id="peg1"></div>
    <div class="peg" id="peg2"></div>
  </div>
</div>

<div id="message"></div>

<video id="victoryVideo" class="hidden" src="oskar.mp4" playsinline controls preload="auto"></video>

<div id="invitation" class="invitation hidden">
  <h2>ğŸ‰ Piratenâ€‘Geburtstag ğŸ‰</h2>
  <p><strong>Wie:</strong> <span id="transport"></span></p>
  <p><strong>Wann:</strong> <span id="date"></span> von <span id="time"></span> bis <span id="time_end"></span></p>
  <p><strong>Wo:</strong> <span id="location"></span></p>
  <p>Sag Bescheid, ob du an Bord kommst!Â ğŸ´â€â˜ ï¸</p>
</div>

<script>
const INVITATION={transport:"Wir holen dich um 15:00 direkt von der Schule ab und fahren mit dir zum Roten Berg.",date:"25.Â JuniÂ 2025",time:"15:00Â Uhr",time_end:"ca.Â 18:00Â Uhr",location:"Roter Berg"};
["transport","date","time","time_end","location"].forEach(id=>{document.getElementById(id).textContent=INVITATION[id];});
const pegs=[[3,2,1],[],[]];let sel=null;
const board=document.getElementById("board");const msg=document.getElementById("message");const vid=document.getElementById("victoryVideo");const invite=document.getElementById("invitation");
vid.addEventListener('ended',()=>{if(vid.duration>2){vid.currentTime=vid.duration-2;vid.play();}});
function render(){for(let i=0;i<3;i++){const p=document.getElementById("peg"+i);p.innerHTML="";pegs[i].forEach(s=>{const d=document.createElement("div");d.className="disk";d.dataset.size=s;d.textContent=s;p.appendChild(d);});}}
function valid(f,t){return pegs[f].length&&(!pegs[t].length||pegs[f].at(-1)<pegs[t].at(-1));}
function move(f,t){pegs[t].push(pegs[f].pop());}
function win(){return pegs[2].length===3;}
function victory(){vid.classList.remove("hidden");vid.currentTime=0;vid.muted=false;vid.play().catch(()=>{});invite.classList.remove("hidden");msg.textContent="Arrr! Schatzkarte freigeschaltet.";board.querySelectorAll(".peg").forEach(p=>p.style.cursor="default");}
function click(i){if(sel===null){if(!pegs[i].length){msg.textContent="Kein Segel am Mast.";return;}sel=i;msg.textContent=`Segel von Mast ${i+1} gewÃ¤hltÂ â€“ Zielmast antippen.`;}else{if(sel===i){sel=null;msg.textContent="Auswahl aufgehoben.";return;}if(valid(sel,i)){move(sel,i);render();win()?victory():msg.textContent=`Segel gesetzt von Mast ${sel+1} âœ ${i+1}.`;}
 else{msg.textContent="Das geht nichtÂ â€“ grÃ¶ÃŸeres Segel unten!";}sel=null;}}
board.querySelectorAll(".peg").forEach((p,i)=>p.addEventListener("click",()=>click(i)));
render();
</script>
</body>
</html>

