<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OSKARS GEBURTSTAGSR√ÑTSELEINLADUNG</title>
<link href="https://fonts.googleapis.com/css2?family=Pirata+One&display=swap" rel="stylesheet">
<style>
:root{
  --mast-width:14px;
  --mast-height:270px;
  --disk-height:38px;
  --wood:#5b3a18;
  --parchment:#f1e7d0;
  --sail:#fffbe6;
  --sail-border:#c9c2a6;
  --invite-bg:#fff5d6;
  --invite-border:#d4ac0d;
}
/* Basis-Typografie ‚Äì skaliert adaptiv (clamp) f√ºr bessere Lesbarkeit auf Mobil-Ger√§ten */
html{font-size:clamp(17px,4.5vw,22px);}  
body{
  font-family:'Pirata One',cursive;
  background:var(--parchment) url('https://cdn.jsdelivr.net/gh/tylermguyen/stock@main/parchment.jpg') repeat;
  margin:0;padding:2rem;text-align:center;color:#321;
}
h1{margin:0 0 1rem;font-size:2rem;letter-spacing:1px;}

/* Schiff + Board */
#ship{
  position:relative;
  height:460px;
  max-width:1100px;
  margin:60px auto 0;           /* 60 px Abstand zur √úberschrift */
  pointer-events:none;
}
.ship-img{
  position:absolute;bottom:0;left:50%;transform:translateX(-50%);
  width:100%;max-width:1000px;height:auto;pointer-events:none;
}
#board{
  position:absolute;left:0;right:0;bottom:200px;
  display:flex;justify-content:center;column-gap:100px;
  pointer-events:auto;
}

/* Masten & Segel */
.peg{position:relative;width:var(--mast-width);height:var(--mast-height);background:var(--wood);border-radius:3px;display:flex;flex-direction:column-reverse;align-items:center;gap:4px;cursor:pointer;user-select:none;}
.peg::after{content:'üè¥\200D‚ò†Ô∏è';position:absolute;top:-2rem;left:50%;transform:translateX(-50%);font-size:1.3rem;pointer-events:none;}
.disk{height:var(--disk-height);background:var(--sail);border:3px solid var(--sail-border);border-radius:8px;display:flex;align-items:center;justify-content:center;color:#555;font-weight:bold;box-shadow:inset 0 0 4px #0003;width:62px;}
.disk[data-size="2"]{width:94px;}
.disk[data-size="3"]{width:126px;}

#message{margin-top:1.2rem;font-size:1.1rem;min-height:1.3em;}
.hidden{display:none !important;}

/* Video ohne Loop */
video#victoryVideo{margin:2rem auto 0;max-width:100%;border-radius:12px;box-shadow:0 4px 8px rgba(0,0,0,0.15);display:block;}

/* Einladung ‚Äì st√§rker hervorgehoben */
.invitation{
  margin-top:2rem;padding:1.5rem 1.2rem;border-radius:16px;
  background:var(--invite-bg);
  border:4px solid var(--invite-border);
  box-shadow:0 6px 16px rgba(0,0,0,0.25);
  max-width:600px;margin-left:auto;margin-right:auto;
  font-size:1rem;
}
.invitation h2{margin-top:0;margin-bottom:0.8rem;font-size:1.4rem;}

/* Mobile Feintuning */
@media(max-width:600px){
  #ship{margin-top:20px;}             /* Schiff wieder n√§her an Masten */
  #board{bottom:150px;column-gap:60px;}
  .peg{--mast-height:200px;}
  h1{font-size:1.7rem;}
}
</style>
</head>
<body>
<h1>‚öì OSKARS PIRATEN-R√ÑTSEL-EINLADUNG üè¥‚Äç‚ò†Ô∏è</h1>
<p>Bringe die drei Segel von der linken auf die rechte Mastspitze ‚Äì immer nur ein Segel und nie ein gr√∂√üeres √ºber ein kleineres.</p>

<div id="ship">
  <img src="ship2.png" alt="Piratenschiff" class="ship-img" />
  <div id="board">
    <div class="peg" id="peg0"></div>
    <div class="peg" id="peg1"></div>
    <div class="peg" id="peg2"></div>
  </div>
</div>

<div id="message"></div>

<video id="victoryVideo" class="hidden" src="oskar.mp4" playsinline controls preload="auto"></video>

<div id="invitation" class="invitation hidden">
  <h2>üéâ Piraten-Geburtstag üéâ</h2>
  <p><strong>Wie:</strong> <span id="transport"></span></p>
  <p><strong>Wann:</strong> <span id="date"></span> von <span id="time"></span> bis <span id="time_end"></span></p>
  <p><strong>Wo:</strong> <span id="location"></span></p>
  <p>Sag Bescheid, ob du an Bord kommst! üè¥‚Äç‚ò†Ô∏è</p>
</div>

<script>
/* ---------- Daten ---------- */
const INVITATION={
  transport:"Wir holen dich um 15:00 direkt von der Schule ab und fahren mit dir zum Roten Berg.",
  date:"25. Juni 2025",time:"15:00 Uhr",time_end:"ca. 18:00 Uhr",location:"Roter Berg"
};
["transport","date","time","time_end","location"].forEach(id=>document.getElementById(id).textContent=INVITATION[id]);

/* ---------- Spiellogik ---------- */
const pegs=[[3,2,1],[],[]];let sel=null;
const board=document.getElementById("board");
const msg=document.getElementById("message");
const vid=document.getElementById("victoryVideo");
const invite=document.getElementById("invitation");

function render(){
  for(let i=0;i<3;i++){
    const p=document.getElementById("peg"+i);p.innerHTML="";
    pegs[i].forEach(s=>{const d=document.createElement("div");d.className="disk";d.dataset.size=s;d.textContent=s;p.appendChild(d);});
  }
}
function valid(f,t){return pegs[f].length&&(!pegs[t].length||pegs[f].at(-1)<pegs[t].at(-1));}
function move(f,t){pegs[t].push(pegs[f].pop());}
function win(){return pegs[2].length===3;}

function victory(){
  vid.classList.remove("hidden");vid.currentTime=0;vid.muted=false;vid.play().catch(()=>{});
  invite.classList.remove("hidden");
  msg.textContent="Arrr! Schatzkarte freigeschaltet.";
  board.querySelectorAll(".peg").forEach(p=>p.style.cursor="default");
}

function click(i){
  if(sel===null){
    if(!pegs[i].length){msg.textContent="Kein Segel am Mast.";return;}
    sel=i;msg.textContent=`Segel von Mast ${i+1} gew√§hlt ‚Äì Zielmast antippen.`;
  }else{
    if(sel===i){sel=null;msg.textContent="Auswahl aufgehoben.";return;}
    if(valid(sel,i)){
      move(sel,i);render();
      win()?victory():msg.textContent=`Segel gesetzt von Mast ${sel+1} ‚ûú ${i+1}.`;
    }else{msg.textContent="Das geht nicht ‚Äì gr√∂√üeres Segel unten!";}
    sel=null;
  }
}
board.querySelectorAll(".peg").forEach((p,i)=>p.addEventListener("click",()=>click(i)));
render();
</script>
</body>
</html>
